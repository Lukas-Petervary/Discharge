<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Discharge</title>

        <link rel="stylesheet" href="styles.css">

        <script type="importmap">
            {
                "imports": {
                    "three": "https://cdn.jsdelivr.net/npm/three@0.170.0/build/three.module.min.js",
                    "cannon": "https://cdn.jsdelivr.net/npm/cannon-es@0.20.0/dist/cannon-es.js"
                }
            }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/peerjs@1.3.2/dist/peerjs.min.js"></script>
    </head>
    <body>
        <div id="loading-screen">
            <div id="loading-text">Loading...</div>
            <div id="loading-spinner"></div>
            <script src="index.js"></script>
        </div>

        <div id="custom-cursor"></div>

        <div id="menu-container">
            <div id="start-menu" class="overlay">
                <button id="main-play-button" onclick="g_Menu.hideAllMenus(); startGameLoop()">Play Game</button>
                <button id="create-lobby-button">Create Lobby</button>
                <button id="join-lobby-button">Join Lobby</button>
            </div>

            <div id="pause-menu" class="overlay">
                <button id="back-button" onclick="g_Menu.hideAllMenus()">Back to Game</button>
                <button onclick="g_Menu.showMenu('settings-menu')">Settings</button>
                <button onclick="g_Menu.showMenu('start-menu')">Exit to Menu</button>
            </div>

            <div id="settings-menu" class="overlay">
                <button id="debug-button" onclick="g_Menu.showMenu('debug-menu')">Debug Settings</button>
                <button id="controls-button" onclick="g_Menu.showMenu('controls-menu'); ">Controls</button>
                <button onclick="g_Menu.displayPrevMenu()">Back</button>
            </div>
            <div id="debug-menu" class="overlay">
                <button onclick="runtimeStats.dom.style.display = runtimeStats.dom.style.display === 'none' ? 'block' : 'none';">Display Runtime Stats</button>
                <button onclick="g_Menu.displayPrevMenu()">Back</button>
            </div>
            <div id="controls-menu" class="overlay">
                <div id="controls-menu-content"></div>
                <button onclick="g_Controls.saveKeybinds()">Save Keybinds</button>
                <button onclick="g_Menu.displayPrevMenu()">Back</button>
            </div>
        </div>

        <script type="module" src="./src/main.js"></script>
    </body>
</html>